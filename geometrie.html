<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CalcPro ‚Äì G√©om√©trie + Trigonom√©trie</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
body{background:#0d0d0d;color:white;font-family:'Roboto',sans-serif;margin:0}
header{background:#111;text-align:center;padding:20px;font-size:24px;font-weight:700;border-bottom:2px solid #00c853}
.container{max-width:800px;margin:auto;padding:20px}
h3{color:#00c853;margin-top:25px;cursor:pointer}
input,textarea{width:100%;padding:12px;margin:8px 0;background:#181818;color:white;border:1px solid #333;border-radius:6px;font-size:16px}
button{width:100%;padding:14px;margin-top:12px;background:#00c853;border:none;font-size:16px;font-weight:700;border-radius:6px;cursor:pointer;transition:0.3s}
button:hover{background:#00e676}
.result{margin-top:20px;padding:16px;background:#111;border:1px solid #333;line-height:1.8;border-radius:6px;font-size:14px}
.formule{color:#00e5ff;font-weight:700}
.exp{color:#ccc}
.collapsible{background:#222;color:white;padding:12px;border:none;width:100%;text-align:left;font-size:16px;border-radius:6px;margin-top:10px;cursor:pointer;outline:none;}
.content{padding:0 12px;display:none;overflow:hidden;border-left:3px solid #00c853;margin-bottom:10px;}
</style>
</head>
<body>
<header>üìê CalcPro ‚Äì G√©om√©trie + Trigonom√©trie</header>
<div class="container">

<h3>Coordonn√©es des points</h3>
<input id="x1" placeholder="x‚ÇÅ"><input id="y1" placeholder="y‚ÇÅ">
<input id="x2" placeholder="x‚ÇÇ"><input id="y2" placeholder="y‚ÇÇ">
<input id="x3" placeholder="x‚ÇÉ (optionnel)"><input id="y3" placeholder="y‚ÇÉ (optionnel)">

<h3>Polygone (x,y)</h3>
<textarea id="poly" placeholder="Ex: 0,0 4,0 4,3 0,3"></textarea>

<button onclick="calc()">Calculer ‚úÖ</button>

<div class="result" id="res">R√©sultats expliqu√©s‚Ä¶</div>

<button class="collapsible">üìò Le√ßon Trigonom√©trie</button>
<div class="content">
<h4>Triangle rectangle</h4>
<ul>
<li><span class="formule">sin Œ∏ = oppos√© / hypotenuse</span></li>
<li><span class="formule">cos Œ∏ = adjacent / hypotenuse</span></li>
<li><span class="formule">tan Œ∏ = oppos√© / adjacent</span></li>
</ul>
<h4>Loi des sinus</h4>
<span class="formule">a / sin A = b / sin B = c / sin C</span>
<h4>Loi des cosinus</h4>
<span class="formule">c¬≤ = a¬≤ + b¬≤ ‚àí 2ab cos C</span>
<h4>Conversion</h4>
<span class="formule">rad = deg √ó œÄ/180 | deg = rad √ó 180/œÄ</span>
</div>

</div>

<footer>CalcPro ¬© Lebbar Yahya</footer>

<script>
const d=(x1,y1,x2,y2)=>Math.hypot(x2-x1,y2-y1);

function calc(){
const A={x:+x1.value,y:+y1.value};
const B={x:+x2.value,y:+y2.value};
const C={x:+x3.value,y:+y3.value};
let t="";

/* SEGMENT */
const AB=d(A.x,A.y,B.x,B.y);
t+=`<b>üìè Distance AB</b><br>`;
t+=`<span class="formule">AB = ‚àö[(x‚ÇÇ‚àíx‚ÇÅ)¬≤ + (y‚ÇÇ‚àíy‚ÇÅ)¬≤]</span><br>`;
t+=`<span class="exp">AB = ${AB.toFixed(3)}</span><br>`;
t+=`Milieu M = (${((A.x+B.x)/2).toFixed(2)} ; ${((A.y+B.y)/2).toFixed(2)})<br><br>`;

/* DROITE */
t+=`<b>üìä Droite AB</b><br>`;
if(A.x!==B.x){
const a=(B.y-A.y)/(B.x-A.x);
const b=A.y-a*A.x;
t+=`<span class="formule">y = ax + b</span> ‚Üí y = ${a.toFixed(3)}x + ${b.toFixed(3)}<br><br>`;
}else{
t+=`Droite verticale x = ${A.x.toFixed(2)}<br><br>`;
}

/* CERCLE */
const r=AB;
t+=`<b>‚≠ï Cercle (centre A)</b><br>`;
t+=`Rayon r = ${r.toFixed(3)}<br>`;
t+=`Diam√®tre D = ${(2*r).toFixed(3)}<br>`;
t+=`Aire = ${(Math.PI*r*r).toFixed(3)}<br>`;
t+=`Circonf√©rence = ${(2*Math.PI*r).toFixed(3)}<br><br>`;

/* TRIANGLE */
if(!isNaN(C.x)){
const BC=d(B.x,B.y,C.x,C.y);
const AC=d(A.x,A.y,C.x,C.y);
const P=AB+BC+AC;
const area=Math.abs(A.x*(B.y-C.y)+B.x*(C.y-A.y)+C.x*(A.y-B.y))/2;
t+=`<b>üî∫ Triangle ABC</b><br>`;
t+=`P√©rim√®tre = ${P.toFixed(3)}<br>`;
t+=`Aire = ${area.toFixed(3)}<br>`;
const angleA=Math.acos((BC*BC + AC*AC - AB*AB)/(2*BC*AC))*180/Math.PI;
const angleB=Math.acos((AC*AC + AB*AB - BC*BC)/(2*AC*AB))*180/Math.PI;
const angleC=180-angleA-angleB;
t+=`Angles : A=${angleA.toFixed(2)}¬∞ , B=${angleB.toFixed(2)}¬∞ , C=${angleC.toFixed(2)}¬∞<br><br>`;
}

/* POLYGONE */
const poly=document.getElementById("poly").value.trim();
if(poly){
const pts=poly.split(/\s+/).map(p=>p.split(',').map(Number));
let A2=0,P2=0;
for(let i=0;i<pts.length;i++){
let [x1,y1]=pts[i];
let [x2,y2]=pts[(i+1)%pts.length];
A2+=x1*y2-x2*y1;
P2+=Math.hypot(x2-x1,y2-y1);
}
t+=`<b>üî∑ Polygone</b><br>`;
t+=`Aire = ${(Math.abs(A2)/2).toFixed(3)}<br>`;
t+=`P√©rim√®tre = ${P2.toFixed(3)}<br>`;
}

document.getElementById("res").innerHTML=t;
}

/* Collapsible trig le√ßon */
var coll=document.getElementsByClassName("collapsible");
for(let i=0;i<coll.length;i++){
  coll[i].addEventListener("click",function(){
    this.classList.toggle("active");
    var content=this.nextElementSibling;
    if(content.style.display==="block"){content.style.display="none";}
    else{content.style.display="block";}
  });
}
</script>
</body>
</html>
