<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CalcPro ‚Äì G√©om√©trie expliqu√©e</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{background:#0f0f0f;color:white;font-family:Arial;margin:0}
header{background:#111;padding:15px;text-align:center;font-size:22px}
.container{max-width:750px;margin:auto;padding:20px}
h3{color:#00c853;margin-top:25px}
input,textarea{
  width:100%;padding:10px;margin:6px 0;
  background:#181818;color:white;border:1px solid #333
}
button{
  width:100%;padding:12px;margin-top:10px;
  background:#00c853;border:none;font-size:16px
}
.result{
  margin-top:15px;padding:15px;
  background:#111;border:1px solid #333;
  line-height:1.8;font-size:14px
}
.formule{color:#00e5ff}
.exp{color:#ccc}
</style>
</head>

<body>

<header>üìê CalcPro ‚Äì G√©om√©trie AVEC EXPLICATIONS</header>

<div class="container">

<h3>Coordonn√©es des points</h3>
<input id="x1" placeholder="x‚ÇÅ"><input id="y1" placeholder="y‚ÇÅ">
<input id="x2" placeholder="x‚ÇÇ"><input id="y2" placeholder="y‚ÇÇ">
<input id="x3" placeholder="x‚ÇÉ (optionnel)"><input id="y3" placeholder="y‚ÇÉ (optionnel)">

<h3>Polygone (x,y)</h3>
<textarea id="poly" placeholder="Ex: 0,0  4,0  4,3  0,3"></textarea>

<button onclick="calc()">Calculer</button>

<div class="result" id="res">R√©sultats expliqu√©s‚Ä¶</div>

</div>

<script>
const d=(x1,y1,x2,y2)=>Math.hypot(x2-x1,y2-y1);

function calc(){
const A={x:+x1.value,y:+y1.value};
const B={x:+x2.value,y:+y2.value};
const C={x:+x3.value,y:+y3.value};
let t="";

/* SEGMENT */
const AB=d(A.x,A.y,B.x,B.y);
t+=`<b>üìè Distance AB</b><br>`;
t+=`<span class="formule">Formule :</span> AB = ‚àö[(x‚ÇÇ‚àíx‚ÇÅ)¬≤ + (y‚ÇÇ‚àíy‚ÇÅ)¬≤]<br>`;
t+=`<span class="exp">Application :</span> AB = ${AB.toFixed(3)}<br>`;
t+=`Milieu M = ((${A.x}+${B.x})/2 , (${A.y}+${B.y})/2)
      = (${((A.x+B.x)/2).toFixed(2)} ; ${((A.y+B.y)/2).toFixed(2)})<br><br>`;

/* DROITE */
t+=`<b>üìä Droite (AB)</b><br>`;
if(A.x!==B.x){
const a=(B.y-A.y)/(B.x-A.x);
const b=A.y-a*A.x;
t+=`<span class="formule">a = (y‚ÇÇ‚àíy‚ÇÅ)/(x‚ÇÇ‚àíx‚ÇÅ)</span> = ${a.toFixed(3)}<br>`;
t+=`<span class="formule">b = y‚ÇÅ ‚àí a¬∑x‚ÇÅ</span> = ${b.toFixed(3)}<br>`;
t+=`√âquation : y = ${a.toFixed(3)}x + ${b.toFixed(3)}<br><br>`;
}else{
t+=`x‚ÇÅ = x‚ÇÇ ‚áí droite verticale<br>`;
t+=`√âquation : x = ${A.x.toFixed(2)}<br><br>`;
}

/* CERCLE */
const r=AB;
t+=`<b>‚≠ï Cercle (centre A)</b><br>`;
t+=`Rayon r = AB = ${r.toFixed(3)}<br>`;
t+=`Diam√®tre D = 2r = ${(2*r).toFixed(3)}<br>`;
t+=`Aire = œÄr¬≤ = ${(Math.PI*r*r).toFixed(3)}<br>`;
t+=`P√©rim√®tre = 2œÄr = ${(2*Math.PI*r).toFixed(3)}<br><br>`;

/* TRIANGLE */
if(!isNaN(C.x)){
const BC=d(B.x,B.y,C.x,C.y);
const AC=d(A.x,A.y,C.x,C.y);
const P=AB+BC+AC;
const area=Math.abs(A.x*(B.y-C.y)+B.x*(C.y-A.y)+C.x*(A.y-B.y))/2;
t+=`<b>üî∫ Triangle ABC</b><br>`;
t+=`P√©rim√®tre = AB + BC + AC = ${P.toFixed(3)}<br>`;
t+=`Aire = |x‚ÇÅ(y‚ÇÇ‚àíy‚ÇÉ)+x‚ÇÇ(y‚ÇÉ‚àíy‚ÇÅ)+x‚ÇÉ(y‚ÇÅ‚àíy‚ÇÇ)| / 2 = ${area.toFixed(3)}<br><br>`;
}

/* POLYGONE */
const poly=document.getElementById("poly").value.trim();
if(poly){
const pts=poly.split(/\s+/).map(p=>p.split(',').map(Number));
let A2=0,P2=0;
for(let i=0;i<pts.length;i++){
let [x1,y1]=pts[i];
let [x2,y2]=pts[(i+1)%pts.length];
A2+=x1*y2-x2*y1;
P2+=Math.hypot(x2-x1,y2-y1);
}
t+=`<b>üî∑ Polygone</b><br>`;
t+=`Aire = |Œ£(x·µ¢y·µ¢‚Çä‚ÇÅ ‚àí x·µ¢‚Çä‚ÇÅy·µ¢)| / 2 = ${(Math.abs(A2)/2).toFixed(3)}<br>`;
t+=`P√©rim√®tre = ${P2.toFixed(3)}<br>`;
}

res.innerHTML=t;
}
</script>

</body>
</html>
