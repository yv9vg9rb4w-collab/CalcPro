<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CalcPro â€“ GÃ©omÃ©trie AvancÃ©e</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  background:#0f0f0f;
  color:white;
  font-family:Arial;
  margin:0;
}
header{
  background:#111;
  text-align:center;
  padding:15px;
  font-size:22px;
  border-bottom:1px solid #333;
}
.container{
  max-width:600px;
  margin:auto;
  padding:20px;
}
input, textarea{
  width:100%;
  padding:10px;
  margin:6px 0;
  background:#181818;
  color:white;
  border:1px solid #333;
}
button{
  width:100%;
  padding:12px;
  background:#00c853;
  border:none;
  font-size:16px;
  cursor:pointer;
}
.result{
  margin-top:15px;
  padding:12px;
  background:#111;
  border:1px solid #333;
  font-size:14px;
  line-height:1.6;
}
footer{
  text-align:center;
  font-size:12px;
  padding:8px;
  color:#777;
}
</style>
</head>

<body>

<header>ğŸ“ CalcPro â€“ GÃ©omÃ©trie AvancÃ©e</header>

<div class="container">

<h3>ğŸ“ Points</h3>
<input id="x1" placeholder="xâ‚">
<input id="y1" placeholder="yâ‚">
<input id="x2" placeholder="xâ‚‚">
<input id="y2" placeholder="yâ‚‚">
<input id="x3" placeholder="xâ‚ƒ (optionnel)">
<input id="y3" placeholder="yâ‚ƒ (optionnel)">

<h3>ğŸ”º Polygone (format : x,y)</h3>
<textarea id="poly" placeholder="Ex: 0,0  4,0  4,3  0,3"></textarea>

<button onclick="calculer()">Calculer</button>

<div class="result" id="res">RÃ©sultatsâ€¦</div>

</div>

<footer>CalcPro Â© Lebbar Yahya</footer>

<script>
const d=(x1,y1,x2,y2)=>Math.hypot(x2-x1,y2-y1);

function angle(a,b,c){
  return Math.acos((a*a+b*b-c*c)/(2*a*b))*180/Math.PI;
}

function calculer(){
  const A={x:+x1.value,y:+y1.value};
  const B={x:+x2.value,y:+y2.value};
  const C={x:+x3.value,y:+y3.value};

  let t="ğŸ“ SEGMENT AB<br>";
  const AB=d(A.x,A.y,B.x,B.y);
  t+=`AB = âˆš[(xâ‚‚-xâ‚)Â²+(yâ‚‚-yâ‚)Â²] = ${AB.toFixed(3)}<br>`;
  t+=`Milieu M = (${((A.x+B.x)/2).toFixed(2)}, ${((A.y+B.y)/2).toFixed(2)})<br>`;

  t+=`<br>ğŸ§® VECTEUR AB<br>`;
  t+=`ABâƒ— = (${(B.x-A.x)}, ${(B.y-A.y)})<br>`;
  t+=`||ABâƒ—|| = ${AB.toFixed(3)}<br>`;

  if(!isNaN(C.x)){
    const BC=d(B.x,B.y,C.x,C.y);
    const AC=d(A.x,A.y,C.x,C.y);
    const P=AB+BC+AC;

    t+=`<br>ğŸ”º TRIANGLE ABC<br>`;
    t+=`PÃ©rimÃ¨tre = ${P.toFixed(3)}<br>`;
    t+=`Aire = ${Math.abs(A.x*(B.y-C.y)+B.x*(C.y-A.y)+C.x*(A.y-B.y))/2}<br>`;
    t+=`Angle ABC = ${angle(AB,BC,AC).toFixed(2)}Â°<br>`;
  }

  const poly=poly.value.trim();
  if(poly){
    const pts=poly.split(/\s+/).map(p=>p.split(',').map(Number));
    let area=0, per=0;
    for(let i=0;i<pts.length;i++){
      let [x1,y1]=pts[i];
      let [x2,y2]=pts[(i+1)%pts.length];
      area+=x1*y2-x2*y1;
      per+=Math.hypot(x2-x1,y2-y1);
    }
    t+=`<br>ğŸ”· POLYGONE<br>`;
    t+=`Aire = ${(Math.abs(area)/2).toFixed(3)}<br>`;
    t+=`PÃ©rimÃ¨tre = ${per.toFixed(3)}<br>`;
  }

  res.innerHTML=t;
}
</script>

</body>
</html>
