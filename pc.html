<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CalcPro P.C Pro üíé</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Orbitron', sans-serif;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    color: #fff;
    margin: 0;
    padding: 20px;
}
h1 {
    text-align: center;
    font-size: 2em;
    margin-bottom: 30px;
    text-shadow: 2px 2px 5px #000;
}
.calculator {
    max-width: 600px;
    margin: auto;
    background: rgba(255,255,255,0.05);
    padding: 25px;
    border-radius: 20px;
    box-shadow: 0 0 30px rgba(0,0,0,0.5);
    backdrop-filter: blur(10px);
}
select, input {
    width: 100%;
    padding: 12px;
    margin: 12px 0;
    border-radius: 12px;
    border: none;
    font-size: 1em;
}
button {
    width: 100%;
    padding: 15px;
    margin-top: 15px;
    border-radius: 12px;
    border: none;
    background: linear-gradient(90deg, #ff5f6d, #ffc371);
    color: #fff;
    font-weight: bold;
    font-size: 1.2em;
    cursor: pointer;
    transition: 0.3s;
}
button:hover {
    transform: scale(1.05);
    background: linear-gradient(90deg, #ffc371, #ff5f6d);
}
.result {
    margin-top: 20px;
    padding: 15px;
    background: rgba(255,255,255,0.1);
    border-radius: 12px;
    text-align: center;
    font-size: 1.5em;
    font-weight: bold;
    color: #ffeb3b;
    box-shadow: 0 0 15px #ffeb3b;
}
</style>
</head>
<body>

<h1>CalcPro P.C Pro üíé</h1>

<div class="calculator">
    <label for="formula">Choisir la formule :</label>
    <select id="formula">
        <optgroup label="√âlectricit√©">
            <option value="ohm">Loi d'Ohm (V = R √ó I)</option>
            <option value="puissance">Puissance (P = V √ó I)</option>
            <option value="energie_elec">√ânergie √©lectrique (E = P √ó t)</option>
        </optgroup>
        <optgroup label="M√©canique">
            <option value="force">Force (F = m √ó a)</option>
            <option value="vitesse">Vitesse (v = d / t)</option>
            <option value="ec">√ânergie cin√©tique (Ec = 0.5 √ó m √ó v¬≤)</option>
            <option value="ep">√ânergie potentielle (Ep = m √ó g √ó h)</option>
        </optgroup>
        <optgroup label="Thermique">
            <option value="chaleur">Chaleur (Q = m √ó c √ó ŒîT)</option>
            <option value="fusion">Fusion (Q = m √ó Lf)</option>
            <option value="vaporisation">Vaporisation (Q = m √ó Lv)</option>
        </optgroup>
        <optgroup label="Gaz / Pression">
            <option value="pression">Pression (P = F / S)</option>
            <option value="gaz">Gaz parfait (P √ó V = n √ó R √ó T)</option>
        </optgroup>
        <optgroup label="Chimie">
            <option value="concentration">Concentration (C = n / V)</option>
            <option value="densite">Densit√© (œÅ = m / V)</option>
            <option value="quantite_matiere">Quantit√© de mati√®re (n = m / M)</option>
        </optgroup>
        <optgroup label="Relativit√©">
            <option value="einstein">E = m √ó c¬≤</option>
        </optgroup>
    </select>

    <label for="variable">Variable √† calculer :</label>
    <select id="variable"></select>

    <div id="inputs"></div>
    <button onclick="calculate()">Calculer</button>
    <div class="result" id="result">R√©sultat ici</div>
</div>

<script>
const formulaSelect = document.getElementById('formula');
const variableSelect = document.getElementById('variable');
const inputsDiv = document.getElementById('inputs');

// D√©finition des formules et variables
const formulas = {
    'ohm': ['V','R','I'],
    'puissance': ['P','V','I'],
    'energie_elec': ['E','P','t'],
    'force': ['F','m','a'],
    'vitesse': ['v','d','t'],
    'ec': ['Ec','m','v'],
    'ep': ['Ep','m','h','g'],
    'chaleur': ['Q','m','c','dT'],
    'fusion': ['Q','m','L'],
    'vaporisation': ['Q','m','L'],
    'pression': ['P','F','S'],
    'gaz': ['P','V','n','R','T'],
    'concentration': ['C','n','V'],
    'densite': ['rho','m','V'],
    'quantite_matiere': ['n','m','M'],
    'einstein': ['E','m','c']
};

// Mise √† jour du s√©lecteur de variable √† calculer
function updateVariables(){
    let vars = formulas[formulaSelect.value];
    variableSelect.innerHTML = '';
    vars.forEach(v=>{
        let option = document.createElement('option');
        option.value=v;
        option.text=v;
        variableSelect.appendChild(option);
    });
    updateInputs();
}

// Cr√©ation des champs dynamiques
function updateInputs(){
    let vars = formulas[formulaSelect.value];
    let toCalc = variableSelect.value;
    let html = '';
    vars.forEach(v=>{
        if(v!==toCalc){
            html+=`<input type="number" id="${v}" placeholder="${v}">`;
        }
    });
    inputsDiv.innerHTML = html;
}

formulaSelect.addEventListener('change', updateVariables);
variableSelect.addEventListener('change', updateInputs);
updateVariables();

// Calcul invers√© automatiquement
function calculate(){
    let f = formulaSelect.value;
    let toCalc = variableSelect.value;
    let vars = {};
    formulas[f].forEach(v=>{
        if(v!==toCalc) vars[v]=parseFloat(document.getElementById(v).value);
    });
    let result;
    switch(f){
        case 'ohm':
            if(toCalc==='V') result=vars['R']*vars['I'];
            if(toCalc==='R') result=vars['V']/vars['I'];
            if(toCalc==='I') result=vars['V']/vars['R'];
            break;
        case 'puissance':
            if(toCalc==='P') result=vars['V']*vars['I'];
            if(toCalc==='V') result=vars['P']/vars['I'];
            if(toCalc==='I') result=vars['P']/vars['V'];
            break;
        case 'energie_elec':
            if(toCalc==='E') result=vars['P']*vars['t'];
            if(toCalc==='P') result=vars['E']/vars['t'];
            if(toCalc==='t') result=vars['E']/vars['P'];
            break;
        case 'force':
            if(toCalc==='F') result=vars['m']*vars['a'];
            if(toCalc==='m') result=vars['F']/vars['a'];
            if(toCalc==='a') result=vars['F']/vars['m'];
            break;
        case 'vitesse':
            if(toCalc==='v') result=vars['d']/vars['t'];
            if(toCalc==='d') result=vars['v']*vars['t'];
            if(toCalc==='t') result=vars['d']/vars['v'];
            break;
        case 'ec':
            if(toCalc==='Ec') result=0.5*vars['m']*Math.pow(vars['v'],2);
            if(toCalc==='v') result=Math.sqrt(2*vars['Ec']/vars['m']);
            if(toCalc==='m') result=2*vars['Ec']/Math.pow(vars['v'],2);
            break;
        case 'ep':
            let g=vars['g']||9.81;
            if(toCalc==='Ep') result=vars['m']*g*vars['h'];
            if(toCalc==='m') result=vars['Ep']/(g*vars['h']);
            if(toCalc==='h') result=vars['Ep']/(vars['m']*g);
            if(toCalc==='g') result=vars['Ep']/(vars['m']*vars['h']);
            break;
        case 'einstein':
            if(toCalc==='E') result=vars['m']*Math.pow(vars['c'],2);
            if(toCalc==='m') result=vars['E']/Math.pow(vars['c'],2);
            if(toCalc==='c') result=Math.sqrt(vars['E']/vars['m']);
            break;
    }
    document.getElementById('result').innerText=`${toCalc} = ${result}`;
}
</script>

</body>
</html>
