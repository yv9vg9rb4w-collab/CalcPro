<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CalcPro â€“ Fonctions Interactives</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;background:#0d0d0d;color:white;font-family:'Roboto',sans-serif;}
header{background:#111;padding:20px;text-align:center;font-size:24px;font-weight:700;border-bottom:2px solid #00c853;}
.container{display:flex;flex-wrap:wrap;max-width:1200px;margin:auto;padding:20px;}
canvas{background:#1a1a1a;border:1px solid #333;border-radius:8px;margin-right:20px;}
.controls{flex:1;min-width:300px;}
h3{color:#00c853;margin-top:10px;}
.result{background:#111;padding:16px;border-radius:8px;border:1px solid #333;margin-top:10px;line-height:1.5;}
button{padding:10px 20px;background:#00c853;border:none;border-radius:6px;color:white;font-weight:700;cursor:pointer;margin-top:10px;}
</style>
</head>
<body>
<header>ðŸ“Š CalcPro â€“ Fonctions Interactives</header>
<div class="container">
<canvas id="graph" width="700" height="500"></canvas>
<div class="controls">
<h3>Parabole: y = axÂ² + bx + c</h3>
<input type="number" id="a" placeholder="a (ex: 1)" value="1">
<input type="number" id="b" placeholder="b (ex: 0)" value="0">
<input type="number" id="c" placeholder="c (ex: 0)" value="0">

<h3>Hyperbole: y = k / x</h3>
<input type="number" id="k" placeholder="k (ex: 1)" value="1">

<button onclick="drawGraph()">Tracer</button>

<div class="result" id="res">RÃ©sultats affichÃ©s ici...</div>
</div>
</div>

<script>
const canvas=document.getElementById('graph');
const ctx=canvas.getContext('2d');
const width=canvas.width,height=canvas.height;
const centerX=width/2,centerY=height/2;

function drawAxes(){
  ctx.clearRect(0,0,width,height);
  ctx.strokeStyle='#555';ctx.lineWidth=1;
  // Axes X et Y
  ctx.beginPath();ctx.moveTo(0,centerY);ctx.lineTo(width,centerY);ctx.stroke();
  ctx.beginPath();ctx.moveTo(centerX,0);ctx.lineTo(centerX,height);ctx.stroke();
}

function drawGraph(){
  drawAxes();
  const a=+document.getElementById('a').value;
  const b=+document.getElementById('b').value;
  const c=+document.getElementById('c').value;
  const k=+document.getElementById('k').value;

  // Parabole
  ctx.strokeStyle='#00e5ff';ctx.lineWidth=2;ctx.beginPath();
  for(let px=-centerX;px<=centerX;px+=1){
    const x=px/20;
    const y=a*x*x+b*x+c;
    const py=centerY-y*20;
    if(px==-centerX){ctx.moveTo(centerX+px,py);}else{ctx.lineTo(centerX+px,py);}
  }
  ctx.stroke();

  // Hyperbole
  ctx.strokeStyle='#ff79c6';ctx.lineWidth=2;ctx.beginPath();
  for(let px=1;px<=centerX;px+=1){
    let x=px/20;
    let y=k/x;let py=centerY-y*20;ctx.lineTo(centerX+px,py);ctx.moveTo(centerX+px,py);
    y=-k/x;py=centerY-y*20;ctx.lineTo(centerX+px,py);ctx.moveTo(centerX+px,py);
  }
  ctx.stroke();

  // RÃ©sultats parabole
  const xSommet=-b/(2*a);
  const ySommet=a*xSommet*xSommet+b*xSommet+c;
  const delta=b*b-4*a*c;
  let inters="";
  if(delta>=0){
    const x1=(-b+Math.sqrt(delta))/(2*a);
    const x2=(-b-Math.sqrt(delta))/(2*a);
    inters=`Intersections x: ${x1.toFixed(2)}, ${x2.toFixed(2)}<br>`;
  }else{inters="Pas d'intersection rÃ©elle avec x<br>";}
  const y0=c;
  document.getElementById('res').innerHTML=
    `<b>Parabole</b><br>Sommet: (${xSommet.toFixed(2)}, ${ySommet.toFixed(2)})<br>`+
    `Intersection y-axis: ${y0}<br>${inters}`+
    `<b>Hyperbole</b><br>Asymptotes: x=0, y=0<br>k=${k}`;
}
drawGraph();
</script>
</body>
</html>
