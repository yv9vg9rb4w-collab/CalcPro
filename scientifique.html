<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CalcPro Scientific</title>

<style>
:root{
    --bg:#05070c;
    --panel:#0b0f1a;
    --btn:#11162a;
    --accent:#1e90ff;
    --text:#ffffff;
    --gray:#9fa4b5;
}

*{box-sizing:border-box}

body{
    margin:0;
    background:var(--bg);
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:-apple-system,BlinkMacSystemFont,sans-serif;
}

/* ====== CALCULATOR ====== */
.calcpro{
    width:380px;
    background:linear-gradient(180deg,#0b0f1a,#05070c);
    border-radius:38px;
    padding:20px;
    box-shadow:0 30px 80px rgba(0,0,0,.9);
}

/* ====== DYNAMIC ISLAND ====== */
.island{
    height:34px;
    border-radius:20px;
    background:#000;
    color:var(--gray);
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:0 14px;
    font-size:13px;
    margin-bottom:12px;
}
.island span{
    color:var(--accent);
}

/* ====== SCREEN ====== */
.screen{
    color:var(--text);
    font-size:44px;
    text-align:right;
    padding:24px 10px;
    min-height:90px;
    overflow-x:auto;
}

/* ====== BUTTONS ====== */
.buttons{
    display:grid;
    grid-template-columns:repeat(4,1fr);
    gap:14px;
}

button{
    height:72px;
    border:none;
    border-radius:50%;
    background:var(--btn);
    color:white;
    font-size:18px;
    cursor:pointer;
    transition:.08s;
}

button:active{
    transform:scale(.94);
    filter:brightness(1.3);
}

.op{background:var(--accent)}
.gray{background:#2a2f45;color:var(--gray)}
.wide{
    grid-column:span 2;
    border-radius:40px;
}

/* ====== LANDSCAPE MODE ====== */
@media (orientation: landscape){
    .calcpro{width:720px}
    .buttons{
        grid-template-columns:repeat(6,1fr);
    }
    .scientific{
        display:block;
    }
}

.scientific{
    display:none;
}
</style>
</head>

<body>

<div class="calcpro">

    <!-- Dynamic Island -->
    <div class="island">
        <div>CalcPro</div>
        <div id="mode">Standard</div>
        <span id="ans">ANS: 0</span>
    </div>

    <div class="screen" id="screen">0</div>

    <div class="buttons">

        <!-- Scientific (landscape) -->
        <button class="scientific" onclick="insert('Math.sin(')">sin</button>
        <button class="scientific" onclick="insert('Math.cos(')">cos</button>
        <button class="scientific" onclick="insert('Math.tan(')">tan</button>
        <button class="scientific" onclick="insert('Math.log10(')">log</button>
        <button class="scientific" onclick="insert('Math.log(')">ln</button>
        <button class="scientific" onclick="insert('Math.sqrt(')">√</button>

        <button class="gray" onclick="clearAll()">AC</button>
        <button class="gray" onclick="del()">DEL</button>
        <button class="gray" onclick="insert('%')">%</button>
        <button class="op" onclick="insert('/')">÷</button>

        <button onclick="insert('7')">7</button>
        <button onclick="insert('8')">8</button>
        <button onclick="insert('9')">9</button>
        <button class="op" onclick="insert('*')">×</button>

        <button onclick="insert('4')">4</button>
        <button onclick="insert('5')">5</button>
        <button onclick="insert('6')">6</button>
        <button class="op" onclick="insert('-')">−</button>

        <button onclick="insert('1')">1</button>
        <button onclick="insert('2')">2</button>
        <button onclick="insert('3')">3</button>
        <button class="op" onclick="insert('+')">+</button>

        <button class="wide" onclick="insert('0')">0</button>
        <button onclick="insert('.')">.</button>
        <button class="op" onclick="calculate()">=</button>

    </div>
</div>

<script>
let screen=document.getElementById("screen");
let ans=0;
let mode=document.getElementById("mode");
let ansUI=document.getElementById("ans");

function insert(v){
    if(screen.innerText==="0") screen.innerText=v;
    else screen.innerText+=v;
}

function clearAll(){screen.innerText="0"}
function del(){
    screen.innerText=screen.innerText.slice(0,-1);
    if(screen.innerText==="") screen.innerText="0";
}

function calculate(){
    try{
        let exp=screen.innerText.replace(/%/g,"/100");
        let r=eval(exp);
        ans=r;
        ansUI.innerText="ANS: "+r;
        screen.innerText=r;
    }catch{
        screen.innerText="Erreur";
    }
}

function updateMode(){
    if(window.matchMedia("(orientation: landscape)").matches){
        mode.innerText="Scientific";
    }else{
        mode.innerText="Standard";
    }
}

window.addEventListener("resize",updateMode);
updateMode();
</script>

</body>
</html>
