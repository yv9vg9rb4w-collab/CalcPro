<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CalcPro G√©o - PRO MAX</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root{--accent:#00ffcc;--bg:#0d0d0d;--card:#1a1a1a;}
body{background:var(--bg);color:white;font-family:sans-serif;margin:0;padding:10px}
.interface{display:flex;flex-direction:column;gap:10px}
.btn-grid{display:grid;grid-template-columns:1fr 1fr;gap:6px}
button{background:var(--card);border:1px solid #333;color:white;
border-radius:8px;padding:10px;font-size:12px;font-weight:bold}
button:active{background:var(--accent);color:black}
.full{grid-column:span 2;border-color:#ff4d4d;color:#ff4d4d}
.titre{grid-column:span 2;text-align:center;
color:var(--accent);border-bottom:1px solid #333;margin-top:5px}
#ecran{position:relative;height:330px;background:#000;
border-radius:12px;margin-top:10px}
#canvas2D,#container3D{position:absolute;width:100%;height:100%}
#canvas2D{z-index:1}
#container3D{z-index:2}
#definition{text-align:center;color:var(--accent);margin-top:8px;font-size:13px}
</style>
</head>
<body>

<div class="interface">
<div class="btn-grid">

<button class="full" onclick="resetAll()">üóëÔ∏è EFFACER</button>

<div class="titre">FIGURES 2D</div>

<button onclick="draw2D('carre')">Carr√©</button>
<button onclick="draw2D('rect')">Rectangle</button>
<button onclick="draw2D('losange')">Losange</button>
<button onclick="draw2D('para')">Parall√©logramme</button>
<button onclick="draw2D('trapeze')">Trap√®ze</button>
<button onclick="draw2D('cercle')">Cercle</button>

<button onclick="draw2D('equi')">Triangle √âquilat√©ral</button>
<button onclick="draw2D('iso')">Triangle Isoc√®le</button>
<button onclick="draw2D('sca')">Triangle Scal√®ne</button>
<button onclick="draw2D('rectTri')">Triangle Rectangle</button>
<button onclick="draw2D('aigu')">Triangle Aigu</button>
<button onclick="draw2D('obtus')">Triangle Obtus</button>

<button onclick="draw2D('pentagone')">Pentagone</button>
<button onclick="draw2D('hexagone')">Hexagone</button>
<button onclick="draw2D('octogone')">Octogone</button>
<button onclick="draw2D('ellipse')">Ellipse</button>

<div class="titre">FIGURES 3D</div>

<button onclick="draw3D('cube')">Cube</button>
<button onclick="draw3D('pave')">Pav√©</button>
<button onclick="draw3D('sphere')">Sph√®re</button>
<button onclick="draw3D('cylindre')">Cylindre</button>
<button onclick="draw3D('cone')">C√¥ne</button>
<button onclick="draw3D('pyramide')">Pyramide</button>
<button onclick="draw3D('prisme')">Prisme Triangulaire</button>
<button onclick="draw3D('tore')">Tore</button>

</div>
</div>

<div id="ecran">
<canvas id="canvas2D"></canvas>
<div id="container3D"></div>
</div>

<div id="definition">Choisissez une figure</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.159.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.159.0/examples/js/controls/OrbitControls.js"></script>

<script>
const canvas=document.getElementById("canvas2D");
const ctx=canvas.getContext("2d");
const def=document.getElementById("definition");
const container=document.getElementById("container3D");

let scene,camera,renderer,controls,mesh=null;

function init(){
scene=new THREE.Scene();
camera=new THREE.PerspectiveCamera(75,container.clientWidth/container.clientHeight,0.1,1000);
camera.position.z=5;
renderer=new THREE.WebGLRenderer({alpha:true});
renderer.setSize(container.clientWidth,container.clientHeight);
container.appendChild(renderer.domElement);
scene.add(new THREE.AmbientLight(0xffffff,0.8));
controls=new THREE.OrbitControls(camera,renderer.domElement);
canvas.width=container.clientWidth;
canvas.height=container.clientHeight;
animate();
}
function animate(){
requestAnimationFrame(animate);
if(mesh) mesh.rotation.y+=0.01;
controls.update();
renderer.render(scene,camera);
}

function resetAll(){
ctx.clearRect(0,0,canvas.width,canvas.height);
if(mesh){scene.remove(mesh);mesh=null;}
def.textContent="√âcran nettoy√©.";
}

function draw2D(type){
resetAll();
container.style.zIndex=1;
canvas.style.zIndex=2;
ctx.fillStyle="#00ffcc";
const x=canvas.width/2;
const y=canvas.height/2;
ctx.beginPath();

if(type==="carre"){ctx.fillRect(x-60,y-60,120,120);def.textContent="Carr√© : 4 c√¥t√©s √©gaux.";}
else if(type==="rect"){ctx.fillRect(x-90,y-50,180,100);def.textContent="Rectangle : 4 angles droits.";}
else if(type==="losange"){ctx.moveTo(x,y-70);ctx.lineTo(x-90,y);ctx.lineTo(x,y+70);ctx.lineTo(x+90,y);ctx.closePath();ctx.fill();def.textContent="Losange : 4 c√¥t√©s √©gaux.";}
else if(type==="para"){ctx.moveTo(x-80,y-60);ctx.lineTo(x+40,y-60);ctx.lineTo(x+80,y+60);ctx.lineTo(x-40,y+60);ctx.closePath();ctx.fill();def.textContent="Parall√©logramme : c√¥t√©s oppos√©s parall√®les.";}
else if(type==="trapeze"){ctx.moveTo(x-80,y+60);ctx.lineTo(x+80,y+60);ctx.lineTo(x+50,y-60);ctx.lineTo(x-50,y-60);ctx.closePath();ctx.fill();def.textContent="Trap√®ze : 1 paire de c√¥t√©s parall√®les.";}
else if(type==="cercle"){ctx.arc(x,y,70,0,Math.PI*2);ctx.fill();def.textContent="Cercle : rayon constant.";}

else if(type==="equi"){const h=120*Math.sqrt(3)/2;ctx.moveTo(x,y-h/2);ctx.lineTo(x-60,y+h/2);ctx.lineTo(x+60,y+h/2);ctx.closePath();ctx.fill();def.textContent="Triangle √©quilat√©ral : 3 c√¥t√©s √©gaux.";}
else if(type==="iso"){ctx.moveTo(x,y-90);ctx.lineTo(x-70,y+60);ctx.lineTo(x+70,y+60);ctx.closePath();ctx.fill();def.textContent="Triangle isoc√®le : 2 c√¥t√©s √©gaux.";}
else if(type==="sca"){ctx.moveTo(x-40,y-80);ctx.lineTo(x-90,y+60);ctx.lineTo(x+100,y+20);ctx.closePath();ctx.fill();def.textContent="Triangle scal√®ne : 3 c√¥t√©s diff√©rents.";}
else if(type==="rectTri"){ctx.moveTo(x-80,y+60);ctx.lineTo(x-80,y-60);ctx.lineTo(x+100,y+60);ctx.closePath();ctx.fill();def.textContent="Triangle rectangle : 1 angle 90¬∞.";}
else if(type==="aigu"){ctx.moveTo(x,y-90);ctx.lineTo(x-80,y+50);ctx.lineTo(x+80,y+50);ctx.closePath();ctx.fill();def.textContent="Triangle aigu : 3 angles < 90¬∞.";}
else if(type==="obtus"){ctx.moveTo(x-120,y+40);ctx.lineTo(x+120,y+40);ctx.lineTo(x-40,y-80);ctx.closePath();ctx.fill();def.textContent="Triangle obtus : 1 angle > 90¬∞.";}

else if(type==="pentagone"){drawPoly(5);}
else if(type==="hexagone"){drawPoly(6);}
else if(type==="octogone"){drawPoly(8);}
else if(type==="ellipse"){ctx.ellipse(x,y,90,50,0,0,Math.PI*2);ctx.fill();def.textContent="Ellipse : cercle √©tir√©.";}
}

function drawPoly(n){
const x=canvas.width/2,y=canvas.height/2,r=80;
for(let i=0;i<n;i++){
let angle=(i*2*Math.PI/n)-Math.PI/2;
let px=x+r*Math.cos(angle);
let py=y+r*Math.sin(angle);
if(i===0) ctx.moveTo(px,py);
else ctx.lineTo(px,py);
}
ctx.closePath();ctx.fill();
def.textContent="Polygone r√©gulier √† "+n+" c√¥t√©s.";
}

function draw3D(type){
resetAll();
canvas.style.zIndex=1;
container.style.zIndex=2;
let geo;
if(type==="cube") geo=new THREE.BoxGeometry(2,2,2);
else if(type==="pave") geo=new THREE.BoxGeometry(3,1.5,2);
else if(type==="sphere") geo=new THREE.SphereGeometry(1.5,32,32);
else if(type==="cylindre") geo=new THREE.CylinderGeometry(1,1,3,32);
else if(type==="cone") geo=new THREE.ConeGeometry(1.5,3,32);
else if(type==="pyramide") geo=new THREE.ConeGeometry(1.8,2.5,4);
else if(type==="prisme") geo=new THREE.CylinderGeometry(1.5,1.5,3,3);
else if(type==="tore") geo=new THREE.TorusGeometry(1,0.4,16,100);

const mat=new THREE.MeshNormalMaterial();
mesh=new THREE.Mesh(geo,mat);
scene.add(mesh);
def.textContent=type.toUpperCase()+" 3D - Faites pivoter.";
}

init();
</script>
</body>
</html>
