<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>CalcPro : L'Encyclop√©die G√©om√©trique 2D/3D</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --accent: #00ffcc;
            --bg: #0d0d0d;
            --card: #1a1a1a;
            --danger: #ff4d4d;
        }

        body {
            background: var(--bg);
            color: white;
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container { width: 100%; max-width: 700px; }

        .interface {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .btn-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 5px;
        }

        .btn-shape {
            background: var(--card);
            border: 1px solid #333;
            color: #eee;
            border-radius: 4px;
            padding: 8px 4px;
            font-size: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
            text-transform: uppercase;
        }

        .btn-shape:hover { border-color: var(--accent); color: var(--accent); }
        .btn-shape:active { background: var(--accent); color: black; }

        .full { grid-column: span 3; border-color: var(--danger); color: var(--danger); font-size: 12px; margin-bottom: 5px;}

        .titre {
            grid-column: span 3;
            text-align: center;
            color: var(--accent);
            padding: 5px;
            font-size: 12px;
            border-bottom: 1px solid #444;
            background: rgba(0, 255, 204, 0.05);
            margin-top: 5px;
        }

        #ecran {
            height: 350px;
            width: 100%;
            background: #000;
            border-radius: 12px;
            margin: 15px 0;
            border: 2px solid #222;
            position: relative;
        }

        #canvas2D { width: 100%; height: 100%; display: block; }

        .info-box {
            background: var(--card);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--accent);
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }

        #nom-figure { color: var(--accent); font-size: 18px; margin-bottom: 5px; font-weight: bold; }
        #def-figure { color: #ccc; font-size: 13px; line-height: 1.4; }
    </style>
</head>
<body>

<div class="container">
    <div class="interface">
        <div class="btn-grid">
            <button class="btn-shape full" onclick="resetAll()">üóëÔ∏è EFFACER L'√âCRAN</button>

            <div class="titre">TRIANGLES (2D)</div>
            <button class="btn-shape" onclick="draw('tri_equi')">√âquilat√©ral</button>
            <button class="btn-shape" onclick="draw('tri_iso')">Isoc√®le</button>
            <button class="btn-shape" onclick="draw('tri_rect')">Rectangle</button>
            <button class="btn-shape" onclick="draw('tri_sca')">Scal√®ne</button>

            <div class="titre">FORMES PLANES (2D)</div>
            <button class="btn-shape" onclick="draw('carre')">Carr√©</button>
            <button class="btn-shape" onclick="draw('rect')">Rectangle</button>
            <button class="btn-shape" onclick="draw('losange')">Losange</button>
            <button class="btn-shape" onclick="draw('para')">Parall√©lo.</button>
            <button class="btn-shape" onclick="draw('trapeze')">Trap√®ze</button>
            <button class="btn-shape" onclick="draw('cercle')">Cercle</button>
            <button class="btn-shape" onclick="draw('penta')">Pentagone</button>
            <button class="btn-shape" onclick="draw('hexa')">Hexagone</button>
            <button class="btn-shape" onclick="draw('etoile')">√âtoile</button>

            <div class="titre">VOLUMES (3D)</div>
            <button class="btn-shape" onclick="draw('cube')">Cube</button>
            <button class="btn-shape" onclick="draw('pyramide')">Pyramide</button>
            <button class="btn-shape" onclick="draw('cylindre')">Cylindre</button>
            <button class="btn-shape" onclick="draw('cone')">C√¥ne</button>
            <button class="btn-shape" onclick="draw('sphere')">Sph√®re</button>
            <button class="btn-shape" onclick="draw('prisme')">Prisme</button>
        </div>
    </div>

    <div id="ecran">
        <canvas id="canvas2D"></canvas>
    </div>

    <div class="info-box">
        <div id="nom-figure">CALCPRO EXPERT</div>
        <div id="def-figure">S√©lectionnez une figure pour explorer ses propri√©t√©s g√©om√©triques.</div>
    </div>
</div>

<script>
const canvas = document.getElementById("canvas2D");
const ctx = canvas.getContext("2d");
const nomEl = document.getElementById("nom-figure");
const defEl = document.getElementById("def-figure");

const biblio = {
    // 2D
    tri_equi: { nom: "TRIANGLE √âQUILAT√âRAL", def: "Polygone √† 3 c√¥t√©s √©gaux. Tous ses angles internes mesurent 60¬∞." },
    tri_iso: { nom: "TRIANGLE ISOC√àLE", def: "Triangle poss√©dant au moins 2 c√¥t√©s de m√™me longueur et 2 angles √©gaux." },
    tri_rect: { nom: "TRIANGLE RECTANGLE", def: "Triangle ayant un angle droit (90¬∞). Le c√¥t√© oppos√© est l'hypot√©nuse." },
    tri_sca: { nom: "TRIANGLE SCAL√àNE", def: "Triangle dont les trois c√¥t√©s et les trois angles sont tous diff√©rents." },
    carre: { nom: "CARR√â", def: "Quadrilat√®re r√©gulier avec 4 c√¥t√©s √©gaux et 4 angles droits." },
    rect: { nom: "RECTANGLE", def: "Quadrilat√®re avec 4 angles droits. Les c√¥t√©s oppos√©s sont √©gaux et parall√®les." },
    losange: { nom: "LOSANGE", def: "Quadrilat√®re aux 4 c√¥t√©s √©gaux. Ses diagonales se coupent perpendiculairement." },
    para: { nom: "PARALL√âLOGRAMME", def: "Quadrilat√®re dont les c√¥t√©s oppos√©s sont parall√®les et de m√™me longueur." },
    trapeze: { nom: "TRAP√àZE", def: "Quadrilat√®re ayant deux c√¥t√©s oppos√©s parall√®les (les bases)." },
    cercle: { nom: "CERCLE", def: "Ensemble de points situ√©s √† une distance constante (rayon) d'un centre." },
    penta: { nom: "PENTAGONE", def: "Polygone √† 5 c√¥t√©s. L'angle interne d'un pentagone r√©gulier est de 108¬∞." },
    hexa: { nom: "HEXAGONE", def: "Polygone √† 6 c√¥t√©s. Il peut √™tre d√©compos√© en 6 triangles √©quilat√©raux." },
    etoile: { nom: "√âTOILE", def: "Figure √©toil√©e √† 5 branches souvent construite √† partir d'un pentagone." },
    // 3D
    cube: { nom: "CUBE", def: "Solide √† 6 faces carr√©es √©gales, 12 ar√™tes et 8 sommets." },
    pyramide: { nom: "PYRAMIDE", def: "Solide ayant une base polygonale et des faces triangulaires se rejoignant √† un apex." },
    cylindre: { nom: "CYLINDRE", def: "Solide de r√©volution avec deux bases circulaires parall√®les et une surface lat√©rale courbe." },
    cone: { nom: "C√îNE", def: "Solide compos√© d'une base circulaire et d'une surface courbe rejoignant un sommet." },
    sphere: { nom: "SPH√àRE", def: "Solide dont tous les points de la surface sont √† √©gale distance du centre." },
    prisme: { nom: "PRISME DROIT", def: "Solide avec deux bases polygonales identiques et des faces lat√©rales rectangulaires." }
};

function resizeCanvas(){
    canvas.width = canvas.clientWidth;
    canvas.height = canvas.clientHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

function resetAll(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    nomEl.textContent = "S√âLECTION";
    defEl.textContent = "En attente d'une figure...";
}

function draw(type){
    resetAll();
    ctx.strokeStyle = "#00ffcc";
    ctx.fillStyle = "rgba(0, 255, 204, 0.15)";
    ctx.lineWidth = 2;
    const x = canvas.width/2;
    const y = canvas.height/2;

    nomEl.textContent = biblio[type].nom;
    defEl.textContent = biblio[type].def;

    ctx.beginPath();
    
    // LOGIQUE 2D
    if(type === 'tri_equi'){
        let h = 120 * Math.sqrt(3)/2;
        ctx.moveTo(x, y-h/2); ctx.lineTo(x-60, y+h/2); ctx.lineTo(x+60, y+h/2); ctx.closePath();
    } 
    else if(type === 'tri_iso'){
        ctx.moveTo(x, y-80); ctx.lineTo(x-50, y+60); ctx.lineTo(x+50, y+60); ctx.closePath();
    }
    else if(type === 'tri_rect'){
        ctx.moveTo(x-50, y-50); ctx.lineTo(x-50, y+70); ctx.lineTo(x+80, y+70); ctx.closePath();
    }
    else if(type === 'tri_sca'){
        ctx.moveTo(x-20, y-60); ctx.lineTo(x-70, y+60); ctx.lineTo(x+90, y+30); ctx.closePath();
    }
    else if(type === 'carre') ctx.rect(x-60, y-60, 120, 120);
    else if(type === 'rect') ctx.rect(x-100, y-50, 200, 100);
    else if(type === 'losange'){
        ctx.moveTo(x, y-80); ctx.lineTo(x-110, y); ctx.lineTo(x, y+80); ctx.lineTo(x+110, y); ctx.closePath();
    }
    else if(type === 'para'){
        ctx.moveTo(x-60, y-50); ctx.lineTo(x+100, y-50); ctx.lineTo(x+60, y+50); ctx.lineTo(x-100, y+50); ctx.closePath();
    }
    else if(type === 'trapeze'){
        ctx.moveTo(x-50, y-60); ctx.lineTo(x+50, y-60); ctx.lineTo(x+110, y+60); ctx.lineTo(x-110, y+60); ctx.closePath();
    }
    else if(type === 'cercle') ctx.arc(x, y, 75, 0, Math.PI*2);
    else if(type === 'penta') drawPoly(5, 80);
    else if(type === 'hexa') drawPoly(6, 80);
    else if(type === 'etoile') drawStar(5, 90, 40);

    // LOGIQUE 3D
    else if(type === 'cube'){
        ctx.rect(x-40, y-80, 100, 100); ctx.stroke();
        ctx.rect(x-70, y-50, 100, 100); ctx.stroke();
        ctx.moveTo(x-40, y-80); ctx.lineTo(x-70, y-50);
        ctx.moveTo(x+60, y-80); ctx.lineTo(x+30, y-50);
        ctx.moveTo(x+60, y+20); ctx.lineTo(x+30, y+50);
        ctx.moveTo(x-40, y+20); ctx.lineTo(x-70, y+50);
    }
    else if(type === 'pyramide'){
        ctx.moveTo(x-80, y+40); ctx.lineTo(x, y+70); ctx.lineTo(x+80, y+40); ctx.lineTo(x, y+15); ctx.closePath(); ctx.stroke();
        ctx.moveTo(x-80, y+40); ctx.lineTo(x, y-80);
        ctx.moveTo(x, y+70); ctx.lineTo(x, y-80);
        ctx.moveTo(x+80, y+40); ctx.lineTo(x, y-80);
    }
    else if(type === 'cylindre'){
        ctx.ellipse(x, y-60, 65, 25, 0, 0, Math.PI*2); ctx.stroke();
        ctx.ellipse(x, y+60, 65, 25, 0, 0, Math.PI*2); ctx.stroke();
        ctx.moveTo(x-65, y-60); ctx.lineTo(x-65, y+60);
        ctx.moveTo(x+65, y-60); ctx.lineTo(x+65, y+60);
    }
    else if(type === 'cone'){
        ctx.ellipse(x, y+60, 65, 25, 0, 0, Math.PI*2); ctx.stroke();
        ctx.moveTo(x-65, y+60); ctx.lineTo(x, y-80); ctx.lineTo(x+65, y+60);
    }
    else if(type === 'sphere'){
        ctx.arc(x, y, 80, 0, Math.PI*2); ctx.stroke();
        ctx.moveTo(x+80, y); ctx.ellipse(x, y, 80, 25, 0, 0, Math.PI*2);
    }
    else if(type === 'prisme'){
        ctx.moveTo(x-60, y-40); ctx.lineTo(x+20, y-40); ctx.lineTo(x-20, y-80); ctx.closePath(); ctx.stroke();
        ctx.moveTo(x-60, y+60); ctx.lineTo(x+20, y+60); ctx.lineTo(x-20, y+20); ctx.closePath(); ctx.stroke();
        ctx.moveTo(x-60, y-40); ctx.lineTo(x-60, y+60);
        ctx.moveTo(x+20, y-40); ctx.lineTo(x+20, y+60);
        ctx.moveTo(x-20, y-80); ctx.lineTo(x-20, y+20);
    }

    ctx.fill();
    ctx.stroke();
}

function drawPoly(s, r){
    const x = canvas.width/2, y = canvas.height/2;
    for(let i=0; i<s; i++){
        let a = i * 2 * Math.PI / s - Math.PI/2;
        ctx.lineTo(x + r*Math.cos(a), y + r*Math.sin(a));
    }
    ctx.closePath();
}

function drawStar(p, out, inn){
    const x = canvas.width/2, y = canvas.height/2;
    for(let i=0; i<p*2; i++){
        let r = i%2===0 ? out : inn;
        let a = i * Math.PI / p - Math.PI/2;
        ctx.lineTo(x + r*Math.cos(a), y + r*Math.sin(a));
    }
    ctx.closePath();
}
</script>

</body>
</html>
