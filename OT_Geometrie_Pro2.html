<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>CalcPro 2D - G√©om√©trie & D√©finitions</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --accent: #00ffcc;
            --bg: #0d0d0d;
            --card: #1a1a1a;
            --danger: #ff4d4d;
            --text-dim: #888;
        }

        body {
            background: var(--bg);
            color: white;
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container { width: 100%; max-width: 600px; }

        .btn-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 6px;
        }

        .btn-shape {
            background: var(--card);
            border: 1px solid #333;
            color: #eee;
            border-radius: 6px;
            padding: 10px;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
            text-transform: uppercase;
        }

        .btn-shape:hover { border-color: var(--accent); color: var(--accent); }
        .btn-shape:active { background: var(--accent); color: black; }

        .full { grid-column: span 2; border-color: var(--danger); color: var(--danger); }

        .titre {
            grid-column: span 2;
            text-align: center;
            color: var(--accent);
            padding: 8px;
            font-size: 14px;
            border-bottom: 1px solid #333;
            margin-top: 10px;
        }

        #ecran {
            height: 300px;
            width: 100%;
            background: #000;
            border-radius: 12px;
            margin: 15px 0;
            border: 1px solid #222;
        }

        #canvas2D { width: 100%; height: 100%; display: block; }

        .info-box {
            background: var(--card);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--accent);
        }

        #nom-figure { color: var(--accent); font-size: 18px; margin-bottom: 5px; font-weight: bold; }
        #def-figure { color: #ccc; font-size: 14px; line-height: 1.4; }
    </style>
</head>
<body>

<div class="container">
    <div class="btn-grid">
        <button class="btn-shape full" onclick="resetAll()">üóëÔ∏è EFFACER TOUT</button>

        <div class="titre">TRIANGLES</div>
        <button class="btn-shape" onclick="draw2D('tri_equi')">√âquilat√©ral</button>
        <button class="btn-shape" onclick="draw2D('tri_iso')">Isoc√®le</button>
        <button class="btn-shape" onclick="draw2D('tri_rect')">Rectangle</button>
        <button class="btn-shape" onclick="draw2D('tri_sca')">Scal√®ne</button>

        <div class="titre">QUADRILAT√àRES & POLYGONES</div>
        <button class="btn-shape" onclick="draw2D('carre')">Carr√©</button>
        <button class="btn-shape" onclick="draw2D('rect')">Rectangle</button>
        <button class="btn-shape" onclick="draw2D('losange')">Losange</button>
        <button class="btn-shape" onclick="draw2D('para')">Parall√©logramme</button>
        <button class="btn-shape" onclick="draw2D('trapeze')">Trap√®ze</button>
        <button class="btn-shape" onclick="draw2D('penta')">Pentagone</button>
        <button class="btn-shape" onclick="draw2D('hexa')">Hexagone</button>
        <button class="btn-shape" onclick="draw2D('octo')">Octogone</button>

        <div class="titre">COURBES & AUTRES</div>
        <button class="btn-shape" onclick="draw2D('cercle')">Cercle</button>
        <button class="btn-shape" onclick="draw2D('ellipse')">Ellipse</button>
        <button class="btn-shape" onclick="draw2D('spirale')">Spirale</button>
    </div>

    <div id="ecran">
        <canvas id="canvas2D"></canvas>
    </div>

    <div class="info-box">
        <div id="nom-figure">S√âLECTIONNEZ UNE FIGURE</div>
        <div id="def-figure">Cliquez sur un bouton pour voir la d√©finition et le dessin.</div>
    </div>
</div>

<script>
const canvas = document.getElementById("canvas2D");
const ctx = canvas.getContext("2d");
const nomEl = document.getElementById("nom-figure");
const defEl = document.getElementById("def-figure");

// Base de donn√©es des d√©finitions
const definitions = {
    tri_equi: ["TRIANGLE √âQUILAT√âRAL", "Triangle ayant 3 c√¥t√©s de m√™me longueur et 3 angles √©gaux √† 60¬∞."],
    tri_iso: ["TRIANGLE ISOC√àLE", "Triangle ayant au moins 2 c√¥t√©s de m√™me longueur."],
    tri_rect: ["TRIANGLE RECTANGLE", "Triangle poss√©dant un angle droit (90¬∞)."],
    tri_sca: ["TRIANGLE SCAL√àNE", "Triangle dont les 3 c√¥t√©s sont de longueurs diff√©rentes."],
    carre: ["CARR√â", "Quadrilat√®re avec 4 c√¥t√©s √©gaux et 4 angles droits."],
    rect: ["RECTANGLE", "Quadrilat√®re avec 4 angles droits et des c√¥t√©s oppos√©s √©gaux."],
    losange: ["LOSANGE", "Quadrilat√®re avec 4 c√¥t√©s √©gaux (angles non forc√©ment droits)."],
    para: ["PARALL√âLOGRAMME", "Quadrilat√®re dont les c√¥t√©s oppos√©s sont parall√®les deux √† deux."],
    trapeze: ["TRAP√àZE", "Quadrilat√®re ayant au moins deux c√¥t√©s parall√®les."],
    penta: ["PENTAGONE", "Polygone r√©gulier √† 5 c√¥t√©s √©gaux."],
    hexa: ["HEXAGONE", "Polygone r√©gulier √† 6 c√¥t√©s √©gaux."],
    octo: ["OCTOGONE", "Polygone r√©gulier √† 8 c√¥t√©s √©gaux."],
    cercle: ["CERCLE", "Ensemble de points situ√©s √† √©gale distance d'un centre."],
    ellipse: ["ELLIPSE", "Forme ovale r√©sultant de l'√©tirement d'un cercle."],
    etoile: ["√âTOILE", "Polygone √©toil√© r√©gulier √† 5 branches."],
    spirale: ["SPIRALE", "Courbe qui s'√©loigne progressivement de son centre."]
};

function resizeCanvas(){
    canvas.width = canvas.clientWidth;
    canvas.height = canvas.clientHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

function resetAll(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    nomEl.textContent = "S√âLECTIONNEZ UNE FIGURE";
    defEl.textContent = "√âcran nettoy√©.";
}

function draw2D(type){
    resetAll();
    ctx.fillStyle = "#00ffcc";
    ctx.strokeStyle = "#00ffcc";
    ctx.lineWidth = 3;
    const x = canvas.width/2, y = canvas.height/2;
    
    nomEl.textContent = definitions[type][0];
    defEl.textContent = definitions[type][1];

    ctx.beginPath();
    if(type === 'tri_equi'){
        let h = 120 * Math.sqrt(3)/2;
        ctx.moveTo(x, y-h/2); ctx.lineTo(x-60, y+h/2); ctx.lineTo(x+60, y+h/2); ctx.closePath();
    }
    else if(type === 'tri_iso'){
        ctx.moveTo(x, y-70); ctx.lineTo(x-50, y+70); ctx.lineTo(x+50, y+70); ctx.closePath();
    }
    else if(type === 'tri_rect'){
        ctx.moveTo(x-50, y-50); ctx.lineTo(x-50, y+50); ctx.lineTo(x+70, y+50); ctx.closePath();
    }
    else if(type === 'tri_sca'){
        ctx.moveTo(x-20, y-60); ctx.lineTo(x-70, y+60); ctx.lineTo(x+90, y+20); ctx.closePath();
    }
    else if(type === 'carre') ctx.rect(x-60, y-60, 120, 120);
    else if(type === 'rect') ctx.rect(x-90, y-50, 180, 100);
    else if(type === 'losange'){
        ctx.moveTo(x, y-70); ctx.lineTo(x-90, y); ctx.lineTo(x, y+70); ctx.lineTo(x+90, y); ctx.closePath();
    }
    else if(type === 'para'){
        ctx.moveTo(x-70, y-50); ctx.lineTo(x+70, y-50); ctx.lineTo(x+40, y+50); ctx.lineTo(x-100, y+50); ctx.closePath();
    }
    else if(type === 'trapeze'){
        ctx.moveTo(x-50, y-60); ctx.lineTo(x+50, y-60); ctx.lineTo(x+90, y+60); ctx.lineTo(x-90, y+60); ctx.closePath();
    }
    else if(type === 'penta') drawPoly(5, 75);
    else if(type === 'hexa') drawPoly(6, 75);
    else if(type === 'octo') drawPoly(8, 75);
    else if(type === 'cercle') ctx.arc(x, y, 70, 0, Math.PI*2);
    else if(type === 'ellipse') ctx.ellipse(x, y, 90, 55, 0, 0, Math.PI*2);
    else if(type === 'etoile') drawStar(5, 85, 35);
    else if(type === 'spirale') { drawSpiral(); return; }

    ctx.fill();
}

function drawPoly(s, r){
    const x = canvas.width/2, y = canvas.height/2;
    for(let i=0; i<s; i++){
        let a = i * 2 * Math.PI / s - Math.PI/2;
        ctx.lineTo(x + r*Math.cos(a), y + r*Math.sin(a));
    }
    ctx.closePath();
}

function drawStar(p, out, inn){
    const x = canvas.width/2, y = canvas.height/2;
    for(let i=0; i<p*2; i++){
        let r = i%2===0 ? out : inn;
        let a = i * Math.PI / p - Math.PI/2;
        ctx.lineTo(x + r*Math.cos(a), y + r*Math.sin(a));
    }
    ctx.closePath();
}

function drawSpiral(){
    const x = canvas.width/2, y = canvas.height/2;
    let a = 0, r = 0;
    ctx.beginPath();
    while(r < 110){
        ctx.lineTo(x + r*Math.cos(a), y + r*Math.sin(a));
        a += 0.2; r += 0.5;
    }
    ctx.stroke();
}
</script>
</body>
</html>
