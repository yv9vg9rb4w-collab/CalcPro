<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>CalcPro 2D - G√©om√©trie Interactive</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --accent: #00ffcc;
            --bg: #0d0d0d;
            --card: #1a1a1a;
            --danger: #ff4d4d;
        }

        body {
            background: var(--bg);
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 500px;
        }

        .interface {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .btn-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }

        .btn-shape {
            background: var(--card);
            border: 1px solid #333;
            color: #ccc;
            border-radius: 8px;
            padding: 12px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            text-transform: uppercase;
        }

        .btn-shape:hover {
            border-color: var(--accent);
            color: var(--accent);
            box-shadow: 0 0 10px rgba(0, 255, 204, 0.2);
        }

        .btn-shape:active {
            background: var(--accent);
            color: black;
        }

        .full {
            grid-column: span 2;
            border-color: var(--danger);
            color: var(--danger);
        }

        .full:hover {
            background: var(--danger);
            color: white;
        }

        .titre {
            grid-column: span 2;
            text-align: center;
            color: var(--accent);
            font-size: 1.2rem;
            letter-spacing: 2px;
            padding: 10px 0;
            border-bottom: 1px solid #333;
        }

        #ecran {
            position: relative;
            height: 350px;
            width: 100%;
            background: #000;
            border: 2px solid #222;
            border-radius: 15px;
            margin-top: 15px;
            overflow: hidden;
            box-shadow: inset 0 0 20px rgba(0,255,204,0.05);
        }

        #canvas2D {
            width: 100%;
            height: 100%;
            display: block;
        }

        #definition {
            text-align: center;
            color: var(--accent);
            margin-top: 12px;
            font-family: monospace;
            font-size: 16px;
            min-height: 20px;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="interface">
        <div class="btn-grid">
            <button class="btn-shape full" onclick="resetAll()">üóëÔ∏è EFFACER L'√âCRAN</button>

            <div class="titre">FIGURES G√âOM√âTRIQUES</div>
            
            <button class="btn-shape" onclick="draw2D('carre')">Carr√©</button>
            <button class="btn-shape" onclick="draw2D('rect')">Rectangle</button>
            <button class="btn-shape" onclick="draw2D('cercle')">Cercle</button>
            <button class="btn-shape" onclick="draw2D('ellipse')">Ellipse</button>
            <button class="btn-shape" onclick="draw2D('losange')">Losange</button>
            <button class="btn-shape" onclick="draw2D('trapeze')">Trap√®ze</button>
            <button class="btn-shape" onclick="draw2D('para')">Parall√©logramme</button>
            <button class="btn-shape" onclick="draw2D('equi')">Triangle √âqui.</button>
            
            <div class="titre">FORMES SP√âCIALES</div>
            
            <button class="btn-shape" onclick="draw2D('etoile')">√âtoile</button>
            <button class="btn-shape" onclick="draw2D('pentagone')">Pentagone</button>
            <button class="btn-shape" onclick="draw2D('hexagone')">Hexagone</button>
            <button class="btn-shape" onclick="draw2D('octogone')">Octogone</button>
            <button class="btn-shape" onclick="draw2D('coeur')">C≈ìur</button>
            <button class="btn-shape" onclick="draw2D('lune')">Lune</button>
            <button class="btn-shape" onclick="draw2D('fleche')">Fl√®che</button>
            <button class="btn-shape" onclick="draw2D('spirale')">Spirale</button>
        </div>
    </div>

    <div id="ecran">
        <canvas id="canvas2D"></canvas>
    </div>

    <div id="definition">S√âLECTIONNEZ UNE FORME</div>
</div>

<script>
const canvas = document.getElementById("canvas2D");
const ctx = canvas.getContext("2d");
const def = document.getElementById("definition");

function resizeCanvas(){
    canvas.width = canvas.clientWidth;
    canvas.height = canvas.clientHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

function resetAll(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    def.textContent = "√âCRAN NETTOY√â";
    ctx.globalCompositeOperation = "source-over"; // Reset blend mode
}

function draw2D(type){
    resetAll();
    ctx.fillStyle = "#00ffcc";
    ctx.strokeStyle = "#00ffcc";
    ctx.lineWidth = 3;
    const x = canvas.width / 2;
    const y = canvas.height / 2;

    ctx.beginPath();

    switch(type) {
        case 'carre':
            ctx.rect(x-60, y-60, 120, 120);
            break;
        case 'rect':
            ctx.rect(x-100, y-50, 200, 100);
            break;
        case 'cercle':
            ctx.arc(x, y, 75, 0, Math.PI*2);
            break;
        case 'ellipse':
            ctx.ellipse(x, y, 100, 60, 0, 0, Math.PI*2);
            break;
        case 'losange':
            ctx.moveTo(x, y-80); ctx.lineTo(x-100, y); ctx.lineTo(x, y+80); ctx.lineTo(x+100, y);
            ctx.closePath();
            break;
        case 'trapeze':
            ctx.moveTo(x-90, y+60); ctx.lineTo(x+90, y+60); ctx.lineTo(x+50, y-60); ctx.lineTo(x-50, y-60);
            ctx.closePath();
            break;
        case 'para':
            ctx.moveTo(x-80, y-50); ctx.lineTo(x+60, y-50); ctx.lineTo(x+80, y+50); ctx.lineTo(x-60, y+50);
            ctx.closePath();
            break;
        case 'equi':
            let h = 140 * Math.sqrt(3)/2;
            ctx.moveTo(x, y - h/2); ctx.lineTo(x-70, y+h/2); ctx.lineTo(x+70, y+h/2);
            ctx.closePath();
            break;
        case 'pentagone': drawPoly(5, 80); break;
        case 'hexagone': drawPoly(6, 80); break;
        case 'octogone': drawPoly(8, 80); break;
        case 'etoile': drawStar(5, 90, 40); break;
        case 'coeur': drawHeart(); break;
        case 'fleche':
            ctx.moveTo(x-80, y-20); ctx.lineTo(x+20, y-20); ctx.lineTo(x+20, y-50); 
            ctx.lineTo(x+90, y); ctx.lineTo(x+20, y+50); ctx.lineTo(x+20, y+20); 
            ctx.lineTo(x-80, y+20); ctx.closePath();
            break;
        case 'lune':
            ctx.arc(x, y, 75, 0, Math.PI*2); ctx.fill();
            ctx.globalCompositeOperation = "destination-out";
            ctx.beginPath(); ctx.arc(x+35, y, 75, 0, Math.PI*2); ctx.fill();
            ctx.globalCompositeOperation = "source-over";
            def.textContent = "LUNE"; return;
        case 'spirale':
            drawSpiral(); 
            def.textContent = "SPIRALE"; return;
    }

    ctx.fill();
    def.textContent = type.toUpperCase();
}

function drawPoly(sides, radius){
    const x = canvas.width/2;
    const y = canvas.height/2;
    const angle = (2 * Math.PI) / sides;
    ctx.moveTo(x + radius * Math.cos(-Math.PI/2), y + radius * Math.sin(-Math.PI/2));
    for(let i=1; i<=sides; i++){
        ctx.lineTo(x + radius * Math.cos(i*angle - Math.PI/2), y + radius * Math.sin(i*angle - Math.PI/2));
    }
    ctx.closePath();
}

function drawStar(points, outer, inner){
    const x = canvas.width/2;
    const y = canvas.height/2;
    const step = Math.PI/points;
    ctx.moveTo(x, y-outer);
    for(let i=0; i<2*points; i++){
        let r = (i%2===0) ? outer : inner;
        let a = i*step - Math.PI/2;
        ctx.lineTo(x + r*Math.cos(a), y + r*Math.sin(a));
    }
    ctx.closePath();
}

function drawHeart(){
    const x = canvas.width/2;
    const y = canvas.height/2;
    ctx.moveTo(x, y+60);
    ctx.bezierCurveTo(x+70, y+20, x+60, y-60, x, y-30);
    ctx.bezierCurveTo(x-60, y-60, x-70, y+20, x, y+60);
    ctx.closePath();
}

function drawSpiral(){
    const x = canvas.width/2;
    const y = canvas.height/2;
    ctx.beginPath();
    let angle = 0;
    let radius = 0;
    while(radius < 120){
        let px = x + radius * Math.cos(angle);
        let py = y + radius * Math.sin(angle);
        ctx.lineTo(px, py);
        angle += 0.15;
        radius += 0.4;
    }
    ctx.stroke();
}
</script>

</body>
</html>
